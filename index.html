<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <title>Día de los Muertos - Match 3</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="game-container">
      <header>
        <div class="header-top">
          <button id="resetBtn" class="reset-btn" title="Nuevo Juego">🔄</button>
          <h1>🌺 Día de los Muertos 🌺</h1>
          <button id="soundToggle" class="sound-btn" title="Activar/Desactivar Sonido">
            <span class="sound-icon">🔊</span>
          </button>
        </div>
        <div class="score-board">
          <div class="stats-line">
            <div class="level">Nivel <span id="level">1</span></div>
            <div class="score">Puntos: <span id="score">0</span>/<span id="targetScore">500</span></div>
            <div class="total-score">Total: <span id="totalScore">0</span></div>
            <div class="moves">Movimientos: <span id="moves">30</span></div>
          </div>
          <div class="level-description" id="levelDescription">Nivel Principiante</div>
        </div>
      </header>

      <div class="game-board-wrapper">


        <div class="game-board-container">
          <!-- Calaveras laterales izquierdas -->
          <div class="left-side-skulls">
            <div class="tiny-skull skull-9" id="leftSkull1">
              <div class="skull-svg" id="leftSkull1Svg"></div>
            </div>
            <div class="side-skull main-left-skull" id="leftSkull">
              <div class="skull-svg" id="leftSkullSvg"></div>
            </div>
            <div class="small-skull skull-10" id="leftSkull2">
              <div class="skull-svg" id="leftSkull2Svg"></div>
            </div>
            <div class="tiny-skull skull-11" id="leftSkull3">
              <div class="skull-svg" id="leftSkull3Svg"></div>
            </div>
          </div>

          <canvas id="gameCanvas" width="480" height="480"></canvas>

          <!-- Calaveras laterales derechas -->
          <div class="right-side-skulls">
            <div class="small-skull skull-12" id="rightSkull1">
              <div class="skull-svg" id="rightSkull1Svg"></div>
            </div>
            <div class="tiny-skull skull-13" id="rightSkull2">
              <div class="skull-svg" id="rightSkull2Svg"></div>
            </div>
            <div class="side-skull main-right-skull" id="rightSkull">
              <div class="skull-svg" id="rightSkullSvg"></div>
            </div>
            <div class="medium-skull skull-14" id="rightSkull3">
              <div class="skull-svg" id="rightSkull3Svg"></div>
            </div>
            <div class="tiny-skull skull-15" id="rightSkull4">
              <div class="skull-svg" id="rightSkull4Svg"></div>
            </div>
          </div>
        </div>

        <!-- Calaveras inferiores - distribución asimétrica -->
        <div class="bottom-skulls">
          <div class="skull-cluster bottom-left-cluster">
            <div class="tiny-skull skull-16" id="bottomSkull1">
              <div class="skull-svg" id="bottomSkull1Svg"></div>
            </div>
            <div class="small-skull skull-17" id="bottomSkull2">
              <div class="skull-svg" id="bottomSkull2Svg"></div>
            </div>
          </div>

          <div class="skull-cluster bottom-center-cluster">
            <div class="medium-skull skull-18" id="bottomSkull3">
              <div class="skull-svg" id="bottomSkull3Svg"></div>
            </div>
            <div class="tiny-skull skull-19" id="bottomSkull4">
              <div class="skull-svg" id="bottomSkull4Svg"></div>
            </div>
            <div class="small-skull skull-20" id="bottomSkull5">
              <div class="skull-svg" id="bottomSkull5Svg"></div>
            </div>
          </div>

          <div class="skull-cluster bottom-right-cluster">
            <div class="small-skull skull-21" id="bottomSkull6">
              <div class="skull-svg" id="bottomSkull6Svg"></div>
            </div>
            <div class="tiny-skull skull-22" id="bottomSkull7">
              <div class="skull-svg" id="bottomSkull7Svg"></div>
            </div>
          </div>
        </div>
      </div>

      <div class="game-info">
        <p>¡Combina 3 o más símbolos para honrar a las almas de los difuntos!</p>
      </div>
    </div>

    <!-- Modal para completar nivel -->
    <div id="levelCompleteModal" class="modal">
      <div class="modal-content">
        <h2>🎉 ¡Nivel Completado! 🎉</h2>
        <div class="level-complete-info">
          <p>Has completado el <span id="completedLevel"></span></p>
          <p>Puntuación final: <span id="finalScore"></span></p>
          <p>Movimientos restantes: <span id="remainingMoves"></span></p>
          <div class="bonus-info" id="bonusInfo"></div>
        </div>
        <div class="modal-buttons">
          <button id="nextLevelBtn" class="next-level-btn">
            Siguiente Nivel
          </button>
          <button id="restartBtn" class="restart-btn">Reiniciar Juego</button>
        </div>
      </div>
    </div>

    <!-- Modal para juego completado -->
    <div id="gameCompleteModal" class="modal">
      <div class="modal-content">
        <h2>🏆 ¡Felicitaciones! 🏆</h2>
        <div class="game-complete-info">
          <p>¡Has completado todos los niveles!</p>
          <p>Eres un verdadero <strong>Maestro de los Muertos</strong></p>
          <p>Puntuación total: <span id="totalScore"></span></p>
        </div>
        <div class="modal-buttons">
          <button id="playAgainBtn" class="play-again-btn">
            Jugar de Nuevo
          </button>
        </div>
      </div>
    </div>

    <!-- Audio elements -->
    <audio id="backgroundMusic" loop preload="auto">
      <source src="data:audio/wav;base64," type="audio/wav" />
    </audio>
    <audio id="matchSound" preload="auto">
      <source src="data:audio/wav;base64," type="audio/wav" />
    </audio>
    <audio id="specialSound" preload="auto">
      <source src="data:audio/wav;base64," type="audio/wav" />
    </audio>
    <audio id="failSound" preload="auto">
      <source src="data:audio/wav;base64," type="audio/wav" />
    </audio>

    <script src="assets.js"></script>
    <script src="audio.js"></script>
    <script src="game.js"></script>
  </body>
</html>
